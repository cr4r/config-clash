import{r as _,b as i,j as t,i as u,d as y,O as S,P,x as R,Q as L,u as N,C as W,S as w,T as z,U as C,g as k,V as j,h as I}from"./index.c4329538.js";import{r as O,s as M,f as $}from"./logs.cc478f50.js";import{d as A}from"./debounce.c2d20996.js";import{u as B}from"./useRemainingViewPortHeight.3208ea71.js";import{F,p as H}from"./Fab.a209fdc9.js";import{P as D,a as E}from"./play.fbda4ecb.js";function V(e,s){if(e==null)return{};var r=Q(e,s),a,o;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)a=n[o],!(s.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,a)||(r[a]=e[a]))}return r}function Q(e,s){if(e==null)return{};var r={},a=Object.keys(e),o,n;for(n=0;n<a.length;n++)o=a[n],!(s.indexOf(o)>=0)&&(r[o]=e[o]);return r}var m=_.exports.forwardRef(function(e,s){var r=e.color,a=r===void 0?"currentColor":r,o=e.size,n=o===void 0?24:o,p=V(e,["color","size"]);return i("svg",{ref:s,xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...p,children:[t("circle",{cx:"11",cy:"11",r:"8"}),t("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})});m.propTypes={color:u.exports.string,size:u.exports.oneOfType([u.exports.string,u.exports.number])};m.displayName="Search";const U=m,Y="_RuleSearch_1oz2t_1",q="_RuleSearchContainer_1oz2t_5",G="_inputWrapper_1oz2t_10",J="_input_1oz2t_10",K="_iconWrapper_1oz2t_35",g={RuleSearch:Y,RuleSearchContainer:q,inputWrapper:G,input:J,iconWrapper:K};function X({dispatch:e,searchText:s,updateSearchText:r}){const[a,o]=_.exports.useState(s),n=_.exports.useCallback(l=>{e(r(l))},[e,r]),p=_.exports.useMemo(()=>A(n,300),[n]),h=l=>{o(l.target.value),p(l.target.value)};return t("div",{className:g.RuleSearch,children:i("div",{className:g.RuleSearchContainer,children:[t("div",{className:g.inputWrapper,children:t("input",{type:"text",value:a,onChange:h,className:g.input})}),t("div",{className:g.iconWrapper,children:t(U,{size:20})})]})})}const Z=e=>({searchText:S(e),updateSearchText:P}),ee=y(Z)(X),oe="_logMeta_4034b_1",te="_logType_4034b_8",re="_logTime_4034b_17",ne="_logText_4034b_22",se="_logsWrapper_4034b_37",ae="_logPlaceholder_4034b_54",ce="_logPlaceholderIcon_4034b_67",ie="_search_4034b_71",c={logMeta:oe,logType:te,logTime:re,logText:ne,logsWrapper:se,logPlaceholder:ae,logPlaceholderIcon:ce,search:ie},{useCallback:b,useEffect:le}=I,v=30,pe={debug:"#389d3d",info:"#58c3f2",warning:"#cc5abb",error:"#c11c1c"},ge={debug:"debug",info:"info",warning:"warn",error:"error"};function he({time:e,payload:s,type:r}){return i("div",{className:c.logMeta,children:[t("span",{className:c.logTime,children:e}),i("span",{className:c.logType,style:{color:pe[r]},children:["[ ",ge[r]," ]"]}),t("span",{className:c.logText,children:s})]})}function de({dispatch:e,logLevel:s,apiConfig:r,logs:a,logStreamingPaused:o}){const n=R(),p=b(()=>{o?O({...r,logLevel:s}):M(),n.app.updateAppConfig("logStreamingPaused",!o)},[r,s,o,n.app]),h=b(f=>e(L(f)),[e]);le(()=>{$({...r,logLevel:s},h)},[r,s,h]);const[l,x]=B(),{t:d}=N();return i("div",{children:[t(W,{title:d("Logs")}),t("div",{className:c.search,children:t(ee,{})}),t("div",{ref:l,children:a.length===0?i("div",{className:c.logPlaceholder,style:{height:x-v*2},children:[t("div",{className:c.logPlaceholderIcon,children:t(w,{width:200,height:200})}),t("div",{children:d("no_logs")})]}):i("div",{className:c.logsWrapper,style:{height:x-v*2},children:[a.map((f,T)=>t("div",{className:"",children:t(he,{...f})},T)),t(F,{icon:o?t(D,{size:16}):t(E,{size:16}),mainButtonStyles:o?{background:"#e74c3c"}:{},style:H,text:d(o?"Resume Refresh":"Pause Refresh"),onClick:p})]})})]})}const ue=e=>({logs:z(e),logLevel:C(e),apiConfig:k(e),logStreamingPaused:j(e)}),ye=y(ue)(de);export{ye as default};
